<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        x:Class="MQTTAvalonia.MainWindow"
        Title="MQTT Client"
		Width="800"
        Height="600"
        MinWidth="800"
        MinHeight="600">

	<StackPanel Margin="2">
		<!-- Head -->
		<Grid Height="50" Background="Gray" ColumnDefinitions="Auto, *, Auto, Auto">
			<TextBlock Grid.Column="0" Text="MQTT Explorer" VerticalAlignment="Center" FontSize="30"></TextBlock>
			<TextBlock x:Name="connectionStatusTextBlock" Grid.Column="2" VerticalAlignment="Center" Text="Disconnected"> </TextBlock>
			<Ellipse x:Name="connectionStatusCircle" Grid.Column="3" Margin="3, 0, 3, 0" Height="8" Width="8" Fill="Red"> </Ellipse>
		</Grid>
		<!-- Connection Grid; Note: Has to be improved, working on it bitches -->

		<Border Background="LightGray" Margin="0, 3, 0, 3" Width="300" HorizontalAlignment="Left">
			<Grid Margin="0, 10" ColumnDefinitions="Auto, Auto" HorizontalAlignment="Center">
				<TextBox Grid.Column="0" x:Name="tb_EnterTopicName" Background="White" Watermark="Enter Topic Name" TextChanged="tb_EnterTopicName_TextChanged" Margin="0,0,10,0" Width="200"/>
				<Button Grid.Column="1" x:Name="btn_AddTopic" Content="Add Topic" Click="AddTopicButtonClicked"/>
			</Grid>
		</Border>




		<!-- Topic Section-->
		<Grid ColumnDefinitions="*, Auto">
			<Border Grid.Column="0" BorderBrush="Black" BorderThickness="2">
				<StackPanel>
					<TextBlock Grid.Row="0" Text="Topics"></TextBlock>
					<Grid Height="150" ColumnDefinitions="Auto, Auto, Auto">
						<!-- Topic List -->
						<Border Margin="0, 0, 10, 0" MinWidth="100" MaxWidth="150" BorderBrush="Black" BorderThickness="2">
							<ListBox Grid.Column="1" x:Name="lb_Topics" SelectionMode="Single">
							</ListBox>
						</Border>
						<TextBox  Grid.Column="1" x:Name="tb_Message" TextChanged="tb_Message_TextChanged" Watermark="Enter Message" Margin="0,0,10,0" Width="300"/>
						<Button Grid.Column="2" x:Name="btn_Publish" Content="Publish" VerticalAlignment="Bottom" Click="PublishMessage"></Button>
					</Grid>

					<Grid ColumnDefinitions="Auto, Auto, *, Auto">
						<TextBlock Text="Filter" VerticalAlignment="Bottom"></TextBlock>
						<ComboBox Grid.Column="1" VerticalAlignment="Bottom">
							<ComboBoxItem>Topic</ComboBoxItem>
							<ComboBoxItem>Status message</ComboBoxItem>
							<ComboBoxItem>Everything</ComboBoxItem>
						</ComboBox>
						<Button Grid.Column="3" Content="Clear" Click="DeleteReceivedMessages" Margin="0,10,0,0"/>
					</Grid>
					<TextBox Name="tb_ReceivedMessages" Margin="0,10,0,0" TextWrapping="Wrap" AcceptsReturn="True" Height="150"/>
				</StackPanel>
			</Border>
			<!-- Subscription Area -->
			<Border Width="300" Grid.Column="1" BorderBrush="black" BorderThickness="2">
				<StackPanel>
					<TextBlock Text="Subscriptions"></TextBlock>
					<Grid ColumnDefinitions="Auto, Auto" HorizontalAlignment="Right">
						<Button Grid.Column="0" Content="Add" Click="SubscribeToTopic_Clicked"/>
						<Button Grid.Column="1" Content="Delete" Click="UnsubscribeFromTopic_Clicked" />
					</Grid>
					<Border BorderBrush="Black" BorderThickness="2">
						<ListBox x:Name="lb_Subscriptions" SelectionMode="Single"></ListBox>
					</Border>
				</StackPanel>
			</Border>
		</Grid>
		<Button Content="Disconnect" HorizontalAlignment="Right" Click="DisconnectClicked"></Button>
	</StackPanel>

</Window>